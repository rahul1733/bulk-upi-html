<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Bulk UPI QR Generator</title>
  <style>
    body { font-family: Arial; padding: 20px; max-width: 900px; margin: auto; }
    textarea, button { width: 100%; padding: 10px; margin-top: 10px; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, 200px); gap: 20px; margin-top: 20px; }
    .card { border: 1px solid #ccc; padding: 10px; text-align: center; }
    img { width: 180px; }
  </style>
</head>
<body>

<h2>Bulk UPI QR Generator</h2>

<textarea id="input" rows="6" placeholder="rahul@ybl&#10;shop@okaxis"></textarea>
<button onclick="generate()">Generate QR</button>

<div id="output" class="grid"></div>

<script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.4/build/qrcode.min.js"></script>

<script>
function generate() {
  const lines = document.getElementById('input').value
    .split('\n')
    .map(v => v.trim())
    .filter(Boolean);

  const out = document.getElementById('output');
  out.innerHTML = '';

  lines.forEach(vpa => {
    const div = document.createElement('div');
    div.className = 'card';

    const img = document.createElement('img');
    QRCode.toDataURL('upi://pay?pa=' + vpa, { width: 300 }, (err, url) => {
      img.src = url;
    });

    const label = document.createElement('div');
    label.innerText = vpa;

    const a = document.createElement('a');
    a.innerText = 'Download';
    a.onclick = () => {
      a.href = img.src;
      a.download = vpa.replace(/[^a-z0-9]/gi, '_') + '.png';
    };

    div.appendChild(img);
    div.appendChild(label);
    div.appendChild(a);
    out.appendChild(div);
  });
}
</script>

</body>
</html>
